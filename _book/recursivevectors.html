<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Lists and dataframes | staRters; An introductory workshop for analysis of data with R</title>
  <meta name="description" content="HU Ontwikkelfestival, 2-4 November, 2020" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Lists and dataframes | staRters; An introductory workshop for analysis of data with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="HU Ontwikkelfestival, 2-4 November, 2020" />
  <meta name="github-repo" content="uashogeschoolutrecht/staRters" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Lists and dataframes | staRters; An introductory workshop for analysis of data with R" />
  
  <meta name="twitter:description" content="HU Ontwikkelfestival, 2-4 November, 2020" />
  

<meta name="author" content="Marc A.T. Teunis, PhD" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intror.html"/>
<link rel="next" href="viz.html"/>
<script src="libs/header-attrs-2.4/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.15/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<script src="libs/d3-5.7.0/d3.min.js"></script>
<script src="libs/d3-lasso-0.0.5/d3-lasso.min.js"></script>
<link href="libs/ggiraphjs-0.3.0/ggiraphjs.min.css" rel="stylesheet" />
<script src="libs/ggiraphjs-0.3.0/ggiraphjs.min.js"></script>
<script src="libs/girafe-binding-0.7.8/girafe.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analysis with R for staRters</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="why-r.html"><a href="why-r.html"><i class="fa fa-check"></i><b>2</b> Why use R?</a></li>
<li class="chapter" data-level="3" data-path="gettingstarted.html"><a href="gettingstarted.html"><i class="fa fa-check"></i><b>3</b> Getting Started</a></li>
<li class="chapter" data-level="4" data-path="edacase.html"><a href="edacase.html"><i class="fa fa-check"></i><b>4</b> Case Example</a></li>
<li class="chapter" data-level="5" data-path="introrstudio.html"><a href="introrstudio.html"><i class="fa fa-check"></i><b>5</b> Introduction to RStudio</a></li>
<li class="chapter" data-level="6" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>6</b> Literate Programming with RMarkdown</a></li>
<li class="chapter" data-level="7" data-path="intror.html"><a href="intror.html"><i class="fa fa-check"></i><b>7</b> Introduction to R</a></li>
<li class="chapter" data-level="8" data-path="recursivevectors.html"><a href="recursivevectors.html"><i class="fa fa-check"></i><b>8</b> Lists and dataframes</a></li>
<li class="chapter" data-level="9" data-path="viz.html"><a href="viz.html"><i class="fa fa-check"></i><b>9</b> Visualize &amp; Explore Data</a></li>
<li class="chapter" data-level="10" data-path="wrangling.html"><a href="wrangling.html"><i class="fa fa-check"></i><b>10</b> Data Wrangling</a></li>
<li class="chapter" data-level="11" data-path="tidydata.html"><a href="tidydata.html"><i class="fa fa-check"></i><b>11</b> Tidy Data</a></li>
<li class="chapter" data-level="12" data-path="importingdata.html"><a href="importingdata.html"><i class="fa fa-check"></i><b>12</b> Importing data</a></li>
<li class="chapter" data-level="13" data-path="assumptions.html"><a href="assumptions.html"><i class="fa fa-check"></i><b>13</b> Assumptions and statistical models</a></li>
<li class="chapter" data-level="14" data-path="sampling-bootstrapping.html"><a href="sampling-bootstrapping.html"><i class="fa fa-check"></i><b>14</b> Sampling, Probability distributions and bootstrapping</a></li>
<li class="chapter" data-level="15" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>15</b> Resources</a></li>
<li class="divider"></li>
<li><a href="https://github.com/uashogeschoolutrecht/staRters" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">staRters; An introductory workshop for analysis of data with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="recursivevectors" class="section level1" number="8">
<h1><span class="header-section-number">Chapter 8</span> Lists and dataframes</h1>
<div id="packages" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Packages</h2>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="recursivevectors.html#cb251-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
</div>
<div id="atomic-vectors-vs.-recursive-vectors" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Atomic vectors vs. recursive vectors</h2>
<p>The R vectors above are so called <code>atomic vectors</code>. They are the ‘atoms’ of R, the building block of which all other objects can be build. The resulting constituated R objects that can be build from the ‘atoms’ are called <code>recursive vectors</code>. The molecules. With these atoms and molecules we can build really complex data objects.</p>
</div>
<div id="recursive-vectors" class="section level2" number="8.3">
<h2><span class="header-section-number">8.3</span> Recursive vectors</h2>
<p>The recursive vectors are:</p>
<ul>
<li>List</li>
<li>Dataframe: as special kind of list</li>
<li>Tibble: as special kind of dataframe</li>
</ul>
<p>Below I will explain the difference</p>
</div>
<div id="the-dataframe" class="section level2" number="8.4">
<h2><span class="header-section-number">8.4</span> The Dataframe</h2>
<p>The dataframe is the most widely used data structure. If you use R for doing analysis of data, this is the datstructure that you will use the most, by far!</p>
<p>To understand the dataframe we can best look at a named-vector.
An object in R has a value and can have attibutes. One of the most convenient attributes is the name of each element in a vector, which is collectively called the <code>names</code> attribute</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="recursivevectors.html#cb252-1"></a>named_vector_ages &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sofie&quot;</span> =<span class="st"> </span><span class="dv">38</span>, <span class="st">&quot;Marc&quot;</span> =<span class="st"> </span><span class="dv">45</span>, <span class="st">&quot;Marie&quot;</span> =<span class="st"> </span><span class="fl">1.5</span>)</span>
<span id="cb252-2"><a href="recursivevectors.html#cb252-2"></a>named_vector_ages</span></code></pre></div>
<pre><code>## Sofie  Marc Marie 
##  38.0  45.0   1.5</code></pre>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="recursivevectors.html#cb254-1"></a><span class="kw">names</span>(named_vector_ages)</span></code></pre></div>
<pre><code>## [1] &quot;Sofie&quot; &quot;Marc&quot;  &quot;Marie&quot;</code></pre>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="recursivevectors.html#cb256-1"></a><span class="kw">attributes</span>(named_vector_ages)</span></code></pre></div>
<pre><code>## $names
## [1] &quot;Sofie&quot; &quot;Marc&quot;  &quot;Marie&quot;</code></pre>
<p>When we call the <code>attributes</code> function on our named vactor, we get the names (“Walter”, “Marc”) of each element of the vector.
Other attributes can be the class and the dimensions and any user-defined attributes.</p>
<p><strong>Remember “Tidy data!”</strong></p>
</div>
<div id="subsetting-vectors" class="section level2" number="8.5">
<h2><span class="header-section-number">8.5</span> Subsetting vectors</h2>
<p>To subset vectors we can use the square brackets <code>[]</code> in R.
Some examples:</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="recursivevectors.html#cb258-1"></a>numbers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</span>
<span id="cb258-2"><a href="recursivevectors.html#cb258-2"></a></span>
<span id="cb258-3"><a href="recursivevectors.html#cb258-3"></a><span class="co">## get the 1st </span></span>
<span id="cb258-4"><a href="recursivevectors.html#cb258-4"></a>numbers[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="recursivevectors.html#cb260-1"></a><span class="co">## get the 1st and 3rd element</span></span>
<span id="cb260-2"><a href="recursivevectors.html#cb260-2"></a>numbers[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</span></code></pre></div>
<pre><code>## [1] 1 3</code></pre>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="recursivevectors.html#cb262-1"></a><span class="co">## get the second element three times</span></span>
<span id="cb262-2"><a href="recursivevectors.html#cb262-2"></a>numbers[<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>)] <span class="co">#or</span></span></code></pre></div>
<pre><code>## [1] 2 2 2</code></pre>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="recursivevectors.html#cb264-1"></a>numbers[<span class="kw">rep</span>(<span class="dv">2</span>, <span class="dt">times =</span> <span class="dv">3</span>)]</span></code></pre></div>
<pre><code>## [1] 2 2 2</code></pre>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="recursivevectors.html#cb266-1"></a><span class="co">## remove the 5th element</span></span>
<span id="cb266-2"><a href="recursivevectors.html#cb266-2"></a>numbers[<span class="op">-</span><span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1]  1  2  3  4  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="recursivevectors.html#cb268-1"></a><span class="co">## you can go crazy - but expect the unexpected</span></span>
<span id="cb268-2"><a href="recursivevectors.html#cb268-2"></a>numbers[<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,(<span class="kw">c</span>(<span class="dv">3</span>))))]</span></code></pre></div>
<pre><code>## [1] 1 2 3 1 2 3</code></pre>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="recursivevectors.html#cb270-1"></a><span class="co">## you can&#39;t mix positive and negative indices</span></span>
<span id="cb270-2"><a href="recursivevectors.html#cb270-2"></a>numbers[<span class="kw">c</span>(<span class="op">-</span><span class="dv">5</span>,<span class="dv">5</span>)]</span></code></pre></div>
</div>
<div id="the-dataframe-1" class="section level2" number="8.6">
<h2><span class="header-section-number">8.6</span> The dataframe</h2>
<p>Now that we understand the named vector we can expand this idea by creating several vectors with elements. These are then as the columns of the dataframe. One prerequisite of a <code>dataframe</code> is that all columns must have equal <code>length</code>. Individual columns of a datframe can have different data types. Remember that a vector can only contain one datatype.</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="recursivevectors.html#cb271-1"></a><span class="co">## indivual vectors</span></span>
<span id="cb271-2"><a href="recursivevectors.html#cb271-2"></a>age =<span class="st"> </span><span class="kw">c</span>(<span class="dv">24</span>, <span class="dv">27</span>, <span class="dv">19</span>, <span class="dv">34</span>)</span>
<span id="cb271-3"><a href="recursivevectors.html#cb271-3"></a>sex =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;F&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>, <span class="st">&quot;M&quot;</span>)</span>
<span id="cb271-4"><a href="recursivevectors.html#cb271-4"></a>weight =<span class="st"> </span><span class="kw">c</span>(<span class="dv">64</span>, <span class="dv">55</span>, <span class="dv">80</span>, <span class="dv">70</span>)</span>
<span id="cb271-5"><a href="recursivevectors.html#cb271-5"></a>given_names =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Christa&quot;</span>, <span class="st">&quot;Suzan&quot;</span>, <span class="st">&quot;Matt&quot;</span>, <span class="st">&quot;John&quot;</span>)</span>
<span id="cb271-6"><a href="recursivevectors.html#cb271-6"></a></span>
<span id="cb271-7"><a href="recursivevectors.html#cb271-7"></a>people_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb271-8"><a href="recursivevectors.html#cb271-8"></a>  age,</span>
<span id="cb271-9"><a href="recursivevectors.html#cb271-9"></a>  sex,</span>
<span id="cb271-10"><a href="recursivevectors.html#cb271-10"></a>  weight,</span>
<span id="cb271-11"><a href="recursivevectors.html#cb271-11"></a>  given_names</span>
<span id="cb271-12"><a href="recursivevectors.html#cb271-12"></a>)</span>
<span id="cb271-13"><a href="recursivevectors.html#cb271-13"></a></span>
<span id="cb271-14"><a href="recursivevectors.html#cb271-14"></a><span class="kw">head</span>(people_df)</span></code></pre></div>
<pre><code>##   age sex weight given_names
## 1  24   F     64     Christa
## 2  27   F     55       Suzan
## 3  19   M     80        Matt
## 4  34   M     70        John</code></pre>
</div>
<div id="or-the-tidyverse-way" class="section level2" number="8.7">
<h2><span class="header-section-number">8.7</span> Or the ‘tidyverse’ way</h2>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="recursivevectors.html#cb273-1"></a>people_tbl &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw">tibble</span>(</span>
<span id="cb273-2"><a href="recursivevectors.html#cb273-2"></a>  age,</span>
<span id="cb273-3"><a href="recursivevectors.html#cb273-3"></a>  sex,</span>
<span id="cb273-4"><a href="recursivevectors.html#cb273-4"></a>  weight,</span>
<span id="cb273-5"><a href="recursivevectors.html#cb273-5"></a>  given_names</span>
<span id="cb273-6"><a href="recursivevectors.html#cb273-6"></a>)</span>
<span id="cb273-7"><a href="recursivevectors.html#cb273-7"></a>people_tbl</span></code></pre></div>
<pre><code>## # A tibble: 4 x 4
##     age sex   weight given_names
##   &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;      
## 1    24 F         64 Christa    
## 2    27 F         55 Suzan      
## 3    19 M         80 Matt       
## 4    34 M         70 John</code></pre>
</div>
<div id="viewing-the-contents-of-a-dataframe" class="section level2" number="8.8">
<h2><span class="header-section-number">8.8</span> Viewing the contents of a dataframe</h2>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="recursivevectors.html#cb275-1"></a><span class="kw">summary</span>(people_df)</span>
<span id="cb275-2"><a href="recursivevectors.html#cb275-2"></a><span class="kw">table</span>(people_df)</span>
<span id="cb275-3"><a href="recursivevectors.html#cb275-3"></a></span>
<span id="cb275-4"><a href="recursivevectors.html#cb275-4"></a><span class="co">## gives the content of the data frame</span></span>
<span id="cb275-5"><a href="recursivevectors.html#cb275-5"></a><span class="kw">head</span>(people_df) 			</span>
<span id="cb275-6"><a href="recursivevectors.html#cb275-6"></a><span class="kw">names</span>(people_df) </span>
<span id="cb275-7"><a href="recursivevectors.html#cb275-7"></a><span class="kw">str</span>(people_df)</span>
<span id="cb275-8"><a href="recursivevectors.html#cb275-8"></a></span>
<span id="cb275-9"><a href="recursivevectors.html#cb275-9"></a><span class="co">## gives the content of the variable &quot;age&quot; from the data frame</span></span>
<span id="cb275-10"><a href="recursivevectors.html#cb275-10"></a>people_df<span class="op">$</span>age </span>
<span id="cb275-11"><a href="recursivevectors.html#cb275-11"></a>tibble<span class="op">::</span><span class="kw">glimpse</span>(people_tbl)</span></code></pre></div>
</div>
<div id="using-index-on-dataframes" class="section level2" number="8.9">
<h2><span class="header-section-number">8.9</span> Using index on dataframes</h2>
<p>Using the index “[]” on a dataframe is a bit tricky. The dataframe always consists of rows and columns. Indexing a dataframe goes like:</p>
<p><code>dataframe[row number(s), column number(s)]</code></p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="recursivevectors.html#cb276-1"></a><span class="co">## first element of this vector</span></span>
<span id="cb276-2"><a href="recursivevectors.html#cb276-2"></a>people_df<span class="op">$</span>age[<span class="dv">1</span>] 	</span>
<span id="cb276-3"><a href="recursivevectors.html#cb276-3"></a></span>
<span id="cb276-4"><a href="recursivevectors.html#cb276-4"></a><span class="co">## content of 2nd variable (column) </span></span>
<span id="cb276-5"><a href="recursivevectors.html#cb276-5"></a>people_df[,<span class="dv">2</span>]</span>
<span id="cb276-6"><a href="recursivevectors.html#cb276-6"></a></span>
<span id="cb276-7"><a href="recursivevectors.html#cb276-7"></a><span class="co">## content of the 1st row</span></span>
<span id="cb276-8"><a href="recursivevectors.html#cb276-8"></a>people_df[<span class="dv">1</span>,] 	  </span>
<span id="cb276-9"><a href="recursivevectors.html#cb276-9"></a>                  <span class="co"># multiple indices</span></span>
<span id="cb276-10"><a href="recursivevectors.html#cb276-10"></a>people_df[<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>, <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] <span class="co"># remember to use c (2nd and 3rd row, 1st and 3rd column)</span></span></code></pre></div>
</div>
<div id="lists" class="section level2" number="8.10">
<h2><span class="header-section-number">8.10</span> Lists</h2>
<p>The dataframe and the list are the most widely used datastructures when considering experimental data. Where a dataframe is constricted to the columns having all equal length, the elements of a list can be of different length and type. This is what makes the list the most flexible and sometimes the most agonizing datastructure in R.
The elemements of a list can have names, or not. Below we create a list with named elements.</p>
</div>
<div id="create-a-list" class="section level2" number="8.11">
<h2><span class="header-section-number">8.11</span> Create a List</h2>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="recursivevectors.html#cb277-1"></a>lst &lt;-<span class="st"> </span><span class="kw">list</span>(</span>
<span id="cb277-2"><a href="recursivevectors.html#cb277-2"></a>  <span class="dt">first_names =</span> <span class="kw">c</span>(<span class="dt">male =</span> <span class="st">&quot;Fred&quot;</span>, </span>
<span id="cb277-3"><a href="recursivevectors.html#cb277-3"></a>                  <span class="dt">female =</span> <span class="st">&quot;Mary&quot;</span>), </span>
<span id="cb277-4"><a href="recursivevectors.html#cb277-4"></a>                  <span class="dt">no.children =</span> <span class="dv">3</span>, </span>
<span id="cb277-5"><a href="recursivevectors.html#cb277-5"></a>                  <span class="dt">child_ages=</span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">16</span>),</span>
<span id="cb277-6"><a href="recursivevectors.html#cb277-6"></a>  <span class="dt">child_names =</span> <span class="kw">c</span>(<span class="st">&quot;Suzy&quot;</span>, </span>
<span id="cb277-7"><a href="recursivevectors.html#cb277-7"></a>                  <span class="st">&quot;Marvin&quot;</span>, </span>
<span id="cb277-8"><a href="recursivevectors.html#cb277-8"></a>                  <span class="st">&quot;Jane&quot;</span>), </span>
<span id="cb277-9"><a href="recursivevectors.html#cb277-9"></a>  <span class="dt">address =</span> <span class="kw">c</span>(<span class="st">&quot;Pandamonium Alley 114, Chaosville&quot;</span>),</span>
<span id="cb277-10"><a href="recursivevectors.html#cb277-10"></a>  <span class="dt">marital_status =</span> <span class="ot">TRUE</span>)</span>
<span id="cb277-11"><a href="recursivevectors.html#cb277-11"></a></span>
<span id="cb277-12"><a href="recursivevectors.html#cb277-12"></a>lst</span></code></pre></div>
<pre><code>## $first_names
##   male female 
## &quot;Fred&quot; &quot;Mary&quot; 
## 
## $no.children
## [1] 3
## 
## $child_ages
## [1]  4  7 16
## 
## $child_names
## [1] &quot;Suzy&quot;   &quot;Marvin&quot; &quot;Jane&quot;  
## 
## $address
## [1] &quot;Pandamonium Alley 114, Chaosville&quot;
## 
## $marital_status
## [1] TRUE</code></pre>
</div>
<div id="accessing-items-in-a-list" class="section level2" number="8.12">
<h2><span class="header-section-number">8.12</span> Accessing items in a list</h2>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="recursivevectors.html#cb279-1"></a><span class="co"># number of elements in the list</span></span>
<span id="cb279-2"><a href="recursivevectors.html#cb279-2"></a><span class="kw">length</span>(lst) </span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="recursivevectors.html#cb281-1"></a>lst[<span class="dv">1</span>] <span class="op">%&gt;%</span><span class="st"> </span>class <span class="co"># 1st element of list as a list</span></span></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="recursivevectors.html#cb283-1"></a>lst[[<span class="dv">1</span>]] <span class="co"># 1st element of List</span></span></code></pre></div>
<pre><code>##   male female 
## &quot;Fred&quot; &quot;Mary&quot;</code></pre>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="recursivevectors.html#cb285-1"></a>lst[[<span class="dv">3</span>]][<span class="dv">2</span>] <span class="co"># second item of third element</span></span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="recursivevectors.html#cb287-1"></a><span class="kw">names</span>(lst) <span class="co"># named elements in this list</span></span></code></pre></div>
<pre><code>## [1] &quot;first_names&quot;    &quot;no.children&quot;    &quot;child_ages&quot;     &quot;child_names&quot;   
## [5] &quot;address&quot;        &quot;marital_status&quot;</code></pre>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="recursivevectors.html#cb289-1"></a>lst<span class="op">$</span>child_names <span class="co"># pull &quot;named&quot; elements from a list using </span></span></code></pre></div>
<pre><code>## [1] &quot;Suzy&quot;   &quot;Marvin&quot; &quot;Jane&quot;</code></pre>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="recursivevectors.html#cb291-1"></a>lst<span class="op">$</span>address</span></code></pre></div>
<pre><code>## [1] &quot;Pandamonium Alley 114, Chaosville&quot;</code></pre>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="recursivevectors.html#cb293-1"></a><span class="co">#`$` operator</span></span></code></pre></div>
</div>
<div id="str-also-gives-you-the-structure-of-a-list" class="section level2" number="8.13">
<h2><span class="header-section-number">8.13</span> <code>str()</code> also gives you the structure of a list</h2>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="recursivevectors.html#cb294-1"></a><span class="kw">str</span>(lst) <span class="co"># display structure of lst</span></span></code></pre></div>
<pre><code>## List of 6
##  $ first_names   : Named chr [1:2] &quot;Fred&quot; &quot;Mary&quot;
##   ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;male&quot; &quot;female&quot;
##  $ no.children   : num 3
##  $ child_ages    : num [1:3] 4 7 16
##  $ child_names   : chr [1:3] &quot;Suzy&quot; &quot;Marvin&quot; &quot;Jane&quot;
##  $ address       : chr &quot;Pandamonium Alley 114, Chaosville&quot;
##  $ marital_status: logi TRUE</code></pre>
<p>The new RStudio Interface also enables interactive exploration of R-objects (demo)</p>
</div>
<div id="selecting-single-elements-in-a-list" class="section level2" number="8.14">
<h2><span class="header-section-number">8.14</span> Selecting single elements in a list</h2>
<p>To select a single element from a variable in a list</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="recursivevectors.html#cb296-1"></a>lst<span class="op">$</span>child_ages[<span class="dv">3</span>] </span></code></pre></div>
<pre><code>## [1] 16</code></pre>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="recursivevectors.html#cb298-1"></a>lst[[<span class="dv">6</span>]][<span class="dv">2</span>] <span class="co"># returns the value of the second element for your variable</span></span></code></pre></div>
<pre><code>## [1] NA</code></pre>
</div>
<div id="looping-over-lists" class="section level2" number="8.15">
<h2><span class="header-section-number">8.15</span> Looping over lists</h2>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="recursivevectors.html#cb300-1"></a>purrr<span class="op">::</span><span class="kw">map</span>(lst, is.na)</span></code></pre></div>
<pre><code>## $first_names
##   male female 
##  FALSE  FALSE 
## 
## $no.children
## [1] FALSE
## 
## $child_ages
## [1] FALSE FALSE FALSE
## 
## $child_names
## [1] FALSE FALSE FALSE
## 
## $address
## [1] FALSE
## 
## $marital_status
## [1] FALSE</code></pre>
</div>
<div id="the-matrix" class="section level2" number="8.16">
<h2><span class="header-section-number">8.16</span> The matrix</h2>
<p>A matrix is a table with only numeric values. An array consists of multiple matices. Below we create a matrix. The difference between a matrix and a dataframe is that a matrix can only hold one type of data, whereas the columns of a dataframe can be of different types of data.</p>
<p>Here we create a numeric matrix of 100 random normals, with 20 rows and 5 columns.</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="recursivevectors.html#cb302-1"></a>matrix_num &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">100</span>),</span>
<span id="cb302-2"><a href="recursivevectors.html#cb302-2"></a>                 <span class="dt">nrow =</span> <span class="dv">20</span>,</span>
<span id="cb302-3"><a href="recursivevectors.html#cb302-3"></a>                 <span class="dt">ncol =</span> <span class="dv">5</span>) <span class="op">%&gt;%</span></span>
<span id="cb302-4"><a href="recursivevectors.html#cb302-4"></a><span class="st">  </span><span class="kw">print</span>()</span></code></pre></div>
<pre><code>##             [,1]        [,2]        [,3]        [,4]       [,5]
##  [1,] -1.3601494  2.54746854  0.19558101 -0.97180955 -1.5288652
##  [2,] -0.6132954 -0.29488644 -0.19106304  0.97685667 -0.1225710
##  [3,]  1.5804070  0.09499850  0.13572249 -0.03507475 -0.7211249
##  [4,]  0.1247081 -2.57150358  1.52976438 -0.01813338  1.1302598
##  [5,]  1.3094271 -0.69113914  1.17308870  2.29567803 -0.9839287
##  [6,]  1.0352320 -2.33768660  0.19237962  1.03649597 -2.0215262
##  [7,] -1.4647457  0.53467819  1.66866146  0.08297965  0.7278933
##  [8,]  0.6282886 -0.29658741 -0.13896453 -0.20832764 -0.8431092
##  [9,]  0.6710785  0.43295405  0.23367067 -0.82586047  0.1819198
## [10,] -0.2437354  0.52706236 -0.75439498 -1.05322871 -1.1406141
## [11,] -0.8224508 -0.15821356 -0.38363753  0.53556769  1.4335632
## [12,]  0.2286838 -0.02378003  0.06842753  1.03141303  1.3893755
## [13,] -0.4181425 -0.54125377 -1.42466233  0.39850255 -0.2370935
## [14,]  0.9072435  0.49242584  0.64790911  0.53650024 -0.7930855
## [15,] -0.8109155 -1.15046768  0.48100711  0.69266230  0.3885299
## [16,] -0.5422037  1.33724294 -0.62706097 -0.81447730 -1.3777712
## [17,]  0.0159730 -0.39685237  1.15218407 -0.72650442  0.9244136
## [18,] -0.5355065 -0.39633148  0.42830183 -1.10713812 -0.3518456
## [19,] -0.6838313 -0.33545111 -1.28162169  0.01847540 -1.3416773
## [20,] -0.3458875 -1.71570721  0.15129277 -0.68505920  0.2811018</code></pre>
<p>You can put any valid R data type in a matrix, but remember, it can only hold one type of data: A matrix with CAPITALS</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="recursivevectors.html#cb304-1"></a>matrix_chr &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> (<span class="kw">c</span>(LETTERS, LETTERS)[<span class="dv">1</span><span class="op">:</span><span class="dv">30</span>]),</span>
<span id="cb304-2"><a href="recursivevectors.html#cb304-2"></a>                     <span class="dt">nrow =</span> <span class="dv">5</span>,</span>
<span id="cb304-3"><a href="recursivevectors.html#cb304-3"></a>                     <span class="dt">ncol =</span> <span class="dv">6</span>) <span class="op">%&gt;%</span></span>
<span id="cb304-4"><a href="recursivevectors.html#cb304-4"></a><span class="st">  </span><span class="kw">print</span>()</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,] &quot;A&quot;  &quot;F&quot;  &quot;K&quot;  &quot;P&quot;  &quot;U&quot;  &quot;Z&quot; 
## [2,] &quot;B&quot;  &quot;G&quot;  &quot;L&quot;  &quot;Q&quot;  &quot;V&quot;  &quot;A&quot; 
## [3,] &quot;C&quot;  &quot;H&quot;  &quot;M&quot;  &quot;R&quot;  &quot;W&quot;  &quot;B&quot; 
## [4,] &quot;D&quot;  &quot;I&quot;  &quot;N&quot;  &quot;S&quot;  &quot;X&quot;  &quot;C&quot; 
## [5,] &quot;E&quot;  &quot;J&quot;  &quot;O&quot;  &quot;T&quot;  &quot;Y&quot;  &quot;D&quot;</code></pre>
<p>A matrix with logicals</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="recursivevectors.html#cb306-1"></a>matrix_lgl &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="kw">rep</span>(<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>), <span class="dt">times =</span> <span class="dv">20</span>),</span>
<span id="cb306-2"><a href="recursivevectors.html#cb306-2"></a>                     <span class="dt">ncol =</span> <span class="dv">5</span>) <span class="op">%&gt;%</span></span>
<span id="cb306-3"><a href="recursivevectors.html#cb306-3"></a><span class="st">  </span><span class="kw">print</span>()</span></code></pre></div>
<pre><code>##        [,1]  [,2]  [,3]  [,4]  [,5]
##  [1,]  TRUE  TRUE  TRUE  TRUE  TRUE
##  [2,] FALSE FALSE FALSE FALSE FALSE
##  [3,]  TRUE  TRUE  TRUE  TRUE  TRUE
##  [4,]  TRUE  TRUE  TRUE  TRUE  TRUE
##  [5,] FALSE FALSE FALSE FALSE FALSE
##  [6,]  TRUE  TRUE  TRUE  TRUE  TRUE
##  [7,]  TRUE  TRUE  TRUE  TRUE  TRUE
##  [8,] FALSE FALSE FALSE FALSE FALSE
##  [9,]  TRUE  TRUE  TRUE  TRUE  TRUE
## [10,]  TRUE  TRUE  TRUE  TRUE  TRUE
## [11,] FALSE FALSE FALSE FALSE FALSE
## [12,]  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
<p>A matrix is basically a vector, with attributes that contain it’s dimensions</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="recursivevectors.html#cb308-1"></a>matrix_num[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] -1.3601494 -0.6132954  1.5804070  0.1247081  1.3094271  1.0352320
##  [7] -1.4647457  0.6282886  0.6710785 -0.2437354</code></pre>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="recursivevectors.html#cb310-1"></a><span class="kw">attributes</span>(matrix_num)</span></code></pre></div>
<pre><code>## $dim
## [1] 20  5</code></pre>
</div>
<div id="import-data-into-r" class="section level2" number="8.17">
<h2><span class="header-section-number">8.17</span> Import data into R</h2>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="recursivevectors.html#cb312-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb312-2"><a href="recursivevectors.html#cb312-2"></a>path_to_gender_age_data &lt;-<span class="st"> </span>here<span class="op">::</span><span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;gender.txt&quot;</span>)</span>
<span id="cb312-3"><a href="recursivevectors.html#cb312-3"></a>gender_age &lt;-<span class="st"> </span><span class="kw">read_delim</span>(path_to_gender_age_data,</span>
<span id="cb312-4"><a href="recursivevectors.html#cb312-4"></a>                         <span class="dt">delim =</span> <span class="st">&quot;/&quot;</span>)</span></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   sex = col_character(),
##   age = col_double()
## )</code></pre>
</div>
<div id="read_csv" class="section level2" number="8.18">
<h2><span class="header-section-number">8.18</span> read_csv</h2>
<p>CSV is a format of a data file that uses commas or semicolons as separators for the columns.</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="recursivevectors.html#cb314-1"></a><span class="kw">library</span>(readr)</span>
<span id="cb314-2"><a href="recursivevectors.html#cb314-2"></a>skin &lt;-<span class="st"> </span><span class="kw">read_csv</span>(here<span class="op">::</span><span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;skincolumns.csv&quot;</span>)) </span></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   `Genotype A` = col_double(),
##   `Genotype B` = col_double()
## )</code></pre>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="recursivevectors.html#cb316-1"></a>skin <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   `Genotype A` `Genotype B`
##          &lt;dbl&gt;        &lt;dbl&gt;
## 1         54.9         30.5
## 2         48.8         24.8
## 3         50.8         24.2</code></pre>
</div>
<div id="inspecting-the-skin-dataframe" class="section level2" number="8.19">
<h2><span class="header-section-number">8.19</span> Inspecting the skin dataframe</h2>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="recursivevectors.html#cb318-1"></a><span class="kw">head</span>(skin)	 <span class="co"># content of the data frame</span></span>
<span id="cb318-2"><a href="recursivevectors.html#cb318-2"></a><span class="kw">dim</span>(skin)</span>
<span id="cb318-3"><a href="recursivevectors.html#cb318-3"></a><span class="kw">attributes</span>(skin)</span>
<span id="cb318-4"><a href="recursivevectors.html#cb318-4"></a><span class="kw">summary</span>(skin)</span>
<span id="cb318-5"><a href="recursivevectors.html#cb318-5"></a><span class="co">## ?read_csv 	 # help on the function</span></span></code></pre></div>
</div>
<div id="skin-dataset-contains-an-na-some-functions-do-not-work-with-nas" class="section level2" number="8.20">
<h2><span class="header-section-number">8.20</span> <code>skin</code> dataset contains an NA, some functions do not work with NAs:</h2>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="recursivevectors.html#cb319-1"></a><span class="kw">mean</span>(skin<span class="op">$</span><span class="st">`</span><span class="dt">Genotype A</span><span class="st">`</span>)</span></code></pre></div>
<pre><code>## [1] 48.22066</code></pre>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="recursivevectors.html#cb321-1"></a><span class="kw">mean</span>(skin<span class="op">$</span><span class="st">`</span><span class="dt">Genotype B</span><span class="st">`</span>)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="recursivevectors.html#cb323-1"></a><span class="co"># to remove the NA, take care: consider leaving NAs in and use arguments like na.rm = TRUE</span></span>
<span id="cb323-2"><a href="recursivevectors.html#cb323-2"></a>skin_noNA &lt;-<span class="st"> </span><span class="kw">na.omit</span>(skin)</span>
<span id="cb323-3"><a href="recursivevectors.html#cb323-3"></a><span class="kw">mean</span>(skin_noNA<span class="op">$</span><span class="st">`</span><span class="dt">Genotype B</span><span class="st">`</span>)</span></code></pre></div>
<pre><code>## [1] 25.72858</code></pre>
</div>
<div id="lets-clean-up-the-workspace" class="section level2" number="8.21">
<h2><span class="header-section-number">8.21</span> Let’s clean up the workspace</h2>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="recursivevectors.html#cb325-1"></a><span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())</span>
<span id="cb325-2"><a href="recursivevectors.html#cb325-2"></a>root &lt;-<span class="st"> </span><span class="kw">find_root_file</span>(<span class="dt">criterion =</span> is_rstudio_project)</span>
<span id="cb325-3"><a href="recursivevectors.html#cb325-3"></a><span class="co">## Note: never use this in code that is meant for others!!!</span></span></code></pre></div>
<p><em><em>The above is an effective way to clear all the items in the Global Environment, but is is not very friendly to use this in code you share with others: can you think of why?</em></em></p>
</div>
<div id="number-notations-and-rounding" class="section level2" number="8.22">
<h2><span class="header-section-number">8.22</span> Number notations and rounding</h2>
</div>
<div id="scientific-notations" class="section level2" number="8.23">
<h2><span class="header-section-number">8.23</span> Scientific notations</h2>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="recursivevectors.html#cb326-1"></a>big_numbers &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dt">mean =</span> <span class="dv">10000000</span>, <span class="dt">sd =</span> <span class="dv">2000000</span>)</span>
<span id="cb326-2"><a href="recursivevectors.html#cb326-2"></a>big_numbers <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">formatC</span>(<span class="dt">format =</span> <span class="st">&quot;e&quot;</span>, <span class="dt">digits =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;1.21969e+07&quot; &quot;1.07730e+07&quot; &quot;8.86731e+06&quot; &quot;9.48226e+06&quot; &quot;9.60524e+06&quot;
##  [6] &quot;6.07739e+06&quot; &quot;1.04231e+07&quot; &quot;1.01798e+07&quot; &quot;6.18424e+06&quot; &quot;1.15735e+07&quot;</code></pre>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="recursivevectors.html#cb328-1"></a>many_digits &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.55858868688584848</span>)</span>
<span id="cb328-2"><a href="recursivevectors.html#cb328-2"></a><span class="kw">round</span>(many_digits, <span class="dt">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 2.559</code></pre>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="recursivevectors.html#cb330-1"></a><span class="kw">sqrt</span>(many_digits <span class="op">*</span><span class="st"> </span><span class="dv">1000</span> <span class="op">/</span><span class="dv">200</span> <span class="op">*</span><span class="st"> </span><span class="dv">2</span><span class="op">^</span><span class="dv">6</span>)  </span></code></pre></div>
<pre><code>## [1] 28.61378</code></pre>
</div>
<div id="rounding-numbers" class="section level2" number="8.24">
<h2><span class="header-section-number">8.24</span> Rounding numbers</h2>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="recursivevectors.html#cb332-1"></a>small_numbers &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">10</span>, <span class="dt">min =</span> <span class="fl">0.001</span>, <span class="dt">max =</span> <span class="fl">0.1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">print</span>()</span></code></pre></div>
<pre><code>##  [1] 0.065976580 0.050123522 0.051126251 0.067535135 0.004193009 0.052330324
##  [7] 0.001542476 0.095239497 0.012712700 0.029333510</code></pre>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="recursivevectors.html#cb334-1"></a>small_numbers <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">round</span>(<span class="dt">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1] 0.07 0.05 0.05 0.07 0.00 0.05 0.00 0.10 0.01 0.03</code></pre>
</div>
<div id="exercises" class="section level2 unnumbered" number="">
<h2><strong>EXERCISES</strong></h2>
</div>
<div id="load-example-dataset" class="section level2 unnumbered" number="">
<h2>1. Load example dataset</h2>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="recursivevectors.html#cb336-1"></a><span class="kw">library</span>(readr)</span>
<span id="cb336-2"><a href="recursivevectors.html#cb336-2"></a>df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(here<span class="op">::</span><span class="kw">here</span>(</span>
<span id="cb336-3"><a href="recursivevectors.html#cb336-3"></a><span class="st">&quot;data&quot;</span>,</span>
<span id="cb336-4"><a href="recursivevectors.html#cb336-4"></a><span class="st">&quot;simple-IO.csv&quot;</span></span>
<span id="cb336-5"><a href="recursivevectors.html#cb336-5"></a>))</span></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   x = col_character(),
##   swd1_del = col_double(),
##   msn2_del = col_double(),
##   hht1_del = col_character(),
##   mig3_del = col_double(),
##   mig2_del = col_double(),
##   rds1_del = col_double(),
##   asf1_del = col_double(),
##   swi5_del = col_double(),
##   dot1_del = col_double(),
##   sir2_del = col_double()
## )</code></pre>
<ol style="list-style-type: upper-alpha">
<li>What are the dimensions of the <code>df</code> dataframe?</li>
<li>What are the column names of <code>df</code>?</li>
<li>What are the data types of the different columns of <code>df?</code></li>
</ol>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="recursivevectors.html#cb338-1"></a><span class="kw">dim</span>(df)</span></code></pre></div>
<pre><code>## [1] 100  11</code></pre>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="recursivevectors.html#cb340-1"></a><span class="kw">ncol</span>(df)</span></code></pre></div>
<pre><code>## [1] 11</code></pre>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="recursivevectors.html#cb342-1"></a><span class="kw">nrow</span>(df)</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
</div>
<div id="inspecting-a-dataframe" class="section level2 unnumbered" number="">
<h2>2. Inspecting a dataframe</h2>
<ol style="list-style-type: upper-alpha">
<li>How do we inspect <code>df</code>?</li>
<li>How many variables does <code>df</code> have?</li>
<li>How many rows?</li>
<li>Call <code>summary()</code> on <code>df</code>; In which variable do we observe the highest expression ratio?</li>
</ol>
</div>
<div id="vector-types" class="section level2 unnumbered" number="">
<h2>3. Vector types</h2>
<ol style="list-style-type: upper-alpha">
<li>Run the following code</li>
<li>Inspect the class of each vector</li>
<li>Combine vctor a to zz in a list.</li>
<li>Inspect the contents of this list</li>
<li>Review the documentation for the <code>map()</code> function from the <code>{purrr}</code> package</li>
<li>Using map, find the length of each element in the list you created in this exercise</li>
</ol>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="recursivevectors.html#cb344-1"></a>a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="ot">NA</span>)</span>
<span id="cb344-2"><a href="recursivevectors.html#cb344-2"></a>b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>)</span>
<span id="cb344-3"><a href="recursivevectors.html#cb344-3"></a>c &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">6</span><span class="op">:</span><span class="dv">8</span>, <span class="ot">NA</span>)</span>
<span id="cb344-4"><a href="recursivevectors.html#cb344-4"></a>d &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.3</span>, <span class="fl">1.6</span>, <span class="fl">6.7</span>)</span>
<span id="cb344-5"><a href="recursivevectors.html#cb344-5"></a>e &lt;-<span class="st"> </span><span class="kw">as.integer</span>(d)</span>
<span id="cb344-6"><a href="recursivevectors.html#cb344-6"></a>f &lt;-<span class="st"> </span><span class="kw">as.integer</span>(a)</span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="recursivevectors.html#cb346-1"></a>g &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(a)</span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="recursivevectors.html#cb348-1"></a>(z &lt;-<span class="st"> </span><span class="kw">paste</span>(a, b, c))</span></code></pre></div>
<pre><code>## [1] &quot;a 1 6&quot;   &quot;b 2 7&quot;   &quot;c 3 8&quot;   &quot;NA 4 NA&quot;</code></pre>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="recursivevectors.html#cb350-1"></a>(zz &lt;-<span class="st"> </span><span class="kw">paste0</span>(a, b, c))</span></code></pre></div>
<pre><code>## [1] &quot;a16&quot;   &quot;b27&quot;   &quot;c38&quot;   &quot;NA4NA&quot;</code></pre>
</div>
<div id="matrices" class="section level2 unnumbered" number="">
<h2>Matrices</h2>
</div>
<div id="creating-a-basic-matrix" class="section level2 unnumbered" number="">
<h2>4. Creating a basic matrix</h2>
<p>During these exercises, we are going to work with a matrix of 8x10 that mostly contains (randomly generated) numerical values, interspersed with some missing values.</p>
<p>We do this in a number of steps.</p>
<p>A. Create a numerical vector named v using the runif() function consisting of 80 values between -10 and 10. Review the help function for the <code>runif()</code> function</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="recursivevectors.html#cb352-1"></a><span class="kw">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb352-2"><a href="recursivevectors.html#cb352-2"></a>v &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dt">n =</span> <span class="dv">80</span>, <span class="dt">min =</span> <span class="dv">-10</span>, <span class="dt">max =</span> <span class="dv">10</span>)  </span></code></pre></div>
<p>B. Assign missing values randomly to this vector using the following R code:</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="recursivevectors.html#cb353-1"></a><span class="kw">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb353-2"><a href="recursivevectors.html#cb353-2"></a>v[<span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">80</span>, <span class="kw">sample</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">20</span>, <span class="dv">1</span>))] &lt;-<span class="st"> </span><span class="ot">NA</span></span></code></pre></div>
<p>C. How many missing values do you have?</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="recursivevectors.html#cb354-1"></a><span class="kw">sum</span>(<span class="kw">is.na</span>(v))</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>D. Create a matrix named m from this numerical vector that has 8 rows. Check to make sure the dimensions are OK!</p>
<p><strong>TIP: use the function matrix() to create the matrix</strong></p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="recursivevectors.html#cb356-1"></a>m &lt;-<span class="st"> </span><span class="kw">matrix</span>(v, <span class="dt">nrow =</span> <span class="dv">8</span>)</span>
<span id="cb356-2"><a href="recursivevectors.html#cb356-2"></a>m</span></code></pre></div>
<pre><code>##           [,1]       [,2]      [,3]       [,4]       [,5]      [,6]      [,7]
## [1,] -4.248450         NA -5.078245         NA  3.8141056 -7.144000 -4.680547
## [2,]  5.766103 -0.8677053 -9.158809         NA  5.9093484        NA        NA
## [3,] -1.820462  9.1366669 -3.441586  0.8813205 -9.5077263        NA -9.083377
## [4,]  7.660348 -0.9333169  9.090073  1.8828404 -0.4440806 -2.623091 -1.155999
## [5,]  8.809346  3.5514127  7.790786 -4.2168053  5.1691908 -6.951105  5.978497
## [6,] -9.088870         NA  3.856068 -7.0577271 -5.6718413 -7.223879 -7.562015
## [7,]        NA -7.9415063  2.810136  9.2604847 -3.6363798 -5.339318  1.218960
## [8,]  7.848381  7.9964994  9.885396  8.0459809 -5.3674843 -0.680751 -5.869372
##           [,8]      [,9]      [,10]
## [1,]        NA  6.292801  4.2036480
## [2,]  5.066157 -1.029673 -9.9875045
## [3,]  7.900907        NA -0.4936685
## [4,] -2.510744  6.247790 -5.5976223
## [5,]  3.302304        NA -2.4036692
## [6,] -8.103187 -1.203366  2.2554201
## [7,] -2.320607  5.089503 -2.9640418
## [8,] -4.512327  2.584423         NA</code></pre>
<p>E. Assign row and column names</p>
<p>number the rows column_1:column_8 and the columns column_1:column_10
use the paste() function, set sep = "_"</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="recursivevectors.html#cb358-1"></a><span class="kw">rownames</span>(m) &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;row&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">8</span>, <span class="dt">sep=</span><span class="st">&quot;_&quot;</span>)</span>
<span id="cb358-2"><a href="recursivevectors.html#cb358-2"></a><span class="kw">colnames</span>(m) &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;column&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">sep=</span><span class="st">&quot;_&quot;</span>)</span>
<span id="cb358-3"><a href="recursivevectors.html#cb358-3"></a>m</span></code></pre></div>
<pre><code>##        column_1   column_2  column_3   column_4   column_5  column_6  column_7
## row_1 -4.248450         NA -5.078245         NA  3.8141056 -7.144000 -4.680547
## row_2  5.766103 -0.8677053 -9.158809         NA  5.9093484        NA        NA
## row_3 -1.820462  9.1366669 -3.441586  0.8813205 -9.5077263        NA -9.083377
## row_4  7.660348 -0.9333169  9.090073  1.8828404 -0.4440806 -2.623091 -1.155999
## row_5  8.809346  3.5514127  7.790786 -4.2168053  5.1691908 -6.951105  5.978497
## row_6 -9.088870         NA  3.856068 -7.0577271 -5.6718413 -7.223879 -7.562015
## row_7        NA -7.9415063  2.810136  9.2604847 -3.6363798 -5.339318  1.218960
## row_8  7.848381  7.9964994  9.885396  8.0459809 -5.3674843 -0.680751 -5.869372
##        column_8  column_9  column_10
## row_1        NA  6.292801  4.2036480
## row_2  5.066157 -1.029673 -9.9875045
## row_3  7.900907        NA -0.4936685
## row_4 -2.510744  6.247790 -5.5976223
## row_5  3.302304        NA -2.4036692
## row_6 -8.103187 -1.203366  2.2554201
## row_7 -2.320607  5.089503 -2.9640418
## row_8 -4.512327  2.584423         NA</code></pre>
</div>
<div id="select-statements" class="section level2 unnumbered" number="">
<h2>5. Select statements</h2>
<p>The next couple of exercises will take you through some of the basics of selecting data within a matrix given some criteria. These basics will come back in more real life examples during the remainder of the course.</p>
<p>A. From row 4 select all values greater than 3. How many are there?</p>
<p><strong>TIP:</strong> Subsetting in dataframe or matrix also works with</p>
<p><code>df[rows, columns]</code></p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="recursivevectors.html#cb360-1"></a><span class="co">## in two steps</span></span>
<span id="cb360-2"><a href="recursivevectors.html#cb360-2"></a>ind &lt;-<span class="st">  </span>m[<span class="dv">4</span>,] <span class="op">&gt;</span><span class="dv">3</span></span>
<span id="cb360-3"><a href="recursivevectors.html#cb360-3"></a>m[<span class="dv">4</span>, ind]</span></code></pre></div>
<pre><code>## column_1 column_3 column_9 
## 7.660348 9.090073 6.247790</code></pre>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="recursivevectors.html#cb362-1"></a><span class="co">## in one go:</span></span>
<span id="cb362-2"><a href="recursivevectors.html#cb362-2"></a>m[<span class="dv">4</span>, m[<span class="dv">4</span>,] <span class="op">&gt;</span><span class="dv">3</span>]</span></code></pre></div>
<pre><code>## column_1 column_3 column_9 
## 7.660348 9.090073 6.247790</code></pre>
<p>B. What is the average of these numbers?</p>
<p>Did you account for missing values? What happens when you have missing values within your data? Probably not. These also get selected and also affect the outcome of certain functions.</p>
<p>C. Do the same, but now also exclude missing values. How many values did you select now?</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="recursivevectors.html#cb364-1"></a><span class="co">## works</span></span>
<span id="cb364-2"><a href="recursivevectors.html#cb364-2"></a><span class="kw">mean</span>(m[<span class="dv">4</span>, m[<span class="dv">4</span>,] <span class="op">&gt;</span><span class="dv">3</span>], <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 7.66607</code></pre>
</div>
<div id="storing-intermediate-products-as-index" class="section level2 unnumbered" number="">
<h2>6. Storing intermediate products as index</h2>
<p>Working with implicit logical vectors easily becomes daunting when the logics are more complicated. It is usually better to then first save this vector and then use this (or in combination with another logical vector).
This also avoids mistakes during typing and reuses your code (both of which are good design principles). We are going to create a subselection of the data from rows 1, 4 and 8. To do this, first set up a vector for the rows that selects row 1, 4 and 8 and name this row_ind. Do this twice, first using a numerical vector and than using a character vector.</p>
<p>A. Use this vector to create a new matrix that only contains these rows. Make sure you have a good look at the data structure to ensure you have selected the correct values.</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="recursivevectors.html#cb366-1"></a><span class="co">## numerical</span></span>
<span id="cb366-2"><a href="recursivevectors.html#cb366-2"></a>row_ind &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">8</span>)</span>
<span id="cb366-3"><a href="recursivevectors.html#cb366-3"></a>m[row_ind,]</span></code></pre></div>
<pre><code>##        column_1   column_2  column_3 column_4   column_5  column_6  column_7
## row_1 -4.248450         NA -5.078245       NA  3.8141056 -7.144000 -4.680547
## row_4  7.660348 -0.9333169  9.090073 1.882840 -0.4440806 -2.623091 -1.155999
## row_8  7.848381  7.9964994  9.885396 8.045981 -5.3674843 -0.680751 -5.869372
##        column_8 column_9 column_10
## row_1        NA 6.292801  4.203648
## row_4 -2.510744 6.247790 -5.597622
## row_8 -4.512327 2.584423        NA</code></pre>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="recursivevectors.html#cb368-1"></a><span class="co">## or via a character</span></span>
<span id="cb368-2"><a href="recursivevectors.html#cb368-2"></a>row_ind &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;row_1&quot;</span>, <span class="st">&quot;row_4&quot;</span>, <span class="st">&quot;row_8&quot;</span>)</span>
<span id="cb368-3"><a href="recursivevectors.html#cb368-3"></a>new_m &lt;-<span class="st"> </span>m[row_ind,]</span></code></pre></div>
<p>B. For the second row in this new matrix, select all values between -2.5 and 4, excluding missing values. How many are there and what is the average?</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="recursivevectors.html#cb369-1"></a>x &lt;-<span class="st"> </span>new_m[<span class="dv">2</span>,] </span>
<span id="cb369-2"><a href="recursivevectors.html#cb369-2"></a>ind_x &lt;-<span class="st"> </span>x <span class="op">&gt;</span><span class="st"> </span><span class="fl">-2.5</span> <span class="op">&amp;</span><span class="st"> </span>x <span class="op">&lt;</span><span class="st"> </span><span class="dv">4</span> </span>
<span id="cb369-3"><a href="recursivevectors.html#cb369-3"></a>x[ind_x]</span></code></pre></div>
<pre><code>##   column_2   column_4   column_5   column_7 
## -0.9333169  1.8828404 -0.4440806 -1.1559985</code></pre>
</div>
<div id="data-frames" class="section level2 unnumbered" number="">
<h2>7. Data frames</h2>
<p>A. Make a <code>data.frame</code> called <code>blood</code> of the table below.</p>
<table>
<thead>
<tr class="header">
<th align="left">subject</th>
<th align="left">treatment</th>
<th align="left">weight</th>
<th align="left">blood pressure</th>
<th align="left">cholesterol</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">human1</td>
<td align="left">control</td>
<td align="left">80</td>
<td align="left">80 / 120</td>
<td align="left">20</td>
</tr>
<tr class="even">
<td align="left">human3 |contro</td>
<td align="left">control</td>
<td align="left">78 |78 / 1</td>
<td align="left">78 / 115</td>
<td align="left">32</td>
</tr>
<tr class="odd">
<td align="left">human4 |50 ng/</td>
<td align="left">50 ng/mg</td>
<td align="left">76 |90 / 1</td>
<td align="left">90 / 125</td>
<td align="left">45</td>
</tr>
<tr class="even">
<td align="left">human5 |50 ng/</td>
<td align="left">50 ng/mg</td>
<td align="left">83 |92 / 1</td>
<td align="left">92 / 120</td>
<td align="left">43</td>
</tr>
<tr class="odd">
<td align="left">human6 |50 ng/</td>
<td align="left">50 ng/mg</td>
<td align="left">81 |87 / 1</td>
<td align="left">87 / 119</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p>B. Convert this <code>blood</code> <code>data.frame</code> to a tibble.</p>
<p>C. Create a tibble called <code>combined</code> from the individual vectors below.</p>
<pre><code>nr &lt;- c(1.8, 4.5, 10.1, 8.3, 7.5)
prime &lt;- c(seq(1, 7, 2), 11)
valid &lt;- c(TRUE, FALSE, FALSE, TRUE, FALSE)
name &lt;- c(&quot;abc1&quot;, &quot;foo2&quot;, &quot;bar3&quot;, &quot;app5&quot;, &quot;bar1&quot;)</code></pre>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="recursivevectors.html#cb372-1"></a><span class="co">## in one go</span></span>
<span id="cb372-2"><a href="recursivevectors.html#cb372-2"></a>combined &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb372-3"><a href="recursivevectors.html#cb372-3"></a><span class="dt">nr =</span> <span class="kw">c</span>(<span class="fl">1.8</span>, <span class="fl">4.5</span>, <span class="fl">10.1</span>, <span class="fl">8.3</span>, <span class="fl">7.5</span>),</span>
<span id="cb372-4"><a href="recursivevectors.html#cb372-4"></a><span class="dt">prime =</span> <span class="kw">c</span>(<span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">2</span>), <span class="dv">11</span>),</span>
<span id="cb372-5"><a href="recursivevectors.html#cb372-5"></a><span class="dt">valid =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb372-6"><a href="recursivevectors.html#cb372-6"></a><span class="dt">name =</span> <span class="kw">c</span>(<span class="st">&quot;abc1&quot;</span>, <span class="st">&quot;foo2&quot;</span>, <span class="st">&quot;bar3&quot;</span>, <span class="st">&quot;app5&quot;</span>, <span class="st">&quot;bar1&quot;</span>)</span>
<span id="cb372-7"><a href="recursivevectors.html#cb372-7"></a>)</span></code></pre></div>
<ol start="4" style="list-style-type: upper-alpha">
<li>Get the values from the <code>prime</code> column. Use at least two different ways (there are three). Calculate the root-square of the sum of these values. Use a pipe operator <code>%&gt;%</code></li>
</ol>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="recursivevectors.html#cb373-1"></a><span class="co">## index</span></span>
<span id="cb373-2"><a href="recursivevectors.html#cb373-2"></a>combined[,<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## # A tibble: 5 x 1
##   prime
##   &lt;dbl&gt;
## 1     1
## 2     3
## 3     5
## 4     7
## 5    11</code></pre>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="recursivevectors.html#cb375-1"></a><span class="co">## by name</span></span>
<span id="cb375-2"><a href="recursivevectors.html#cb375-2"></a>combined[, <span class="st">&quot;prime&quot;</span>]</span></code></pre></div>
<pre><code>## # A tibble: 5 x 1
##   prime
##   &lt;dbl&gt;
## 1     1
## 2     3
## 3     5
## 4     7
## 5    11</code></pre>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="recursivevectors.html#cb377-1"></a><span class="co">## by $</span></span>
<span id="cb377-2"><a href="recursivevectors.html#cb377-2"></a>x &lt;-<span class="st"> </span>combined<span class="op">$</span>prime <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb377-3"><a href="recursivevectors.html#cb377-3"></a><span class="st">  </span><span class="kw">sum</span>() <span class="op">%&gt;%</span></span>
<span id="cb377-4"><a href="recursivevectors.html#cb377-4"></a><span class="st">  </span><span class="kw">sqrt</span>()</span></code></pre></div>
<p>The answer is <code>5.1961524</code></p>
<p>D. Select the second value of the <code>nr</code> column. Use at least two different ways (there are at least 4).</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="recursivevectors.html#cb378-1"></a>combined<span class="op">$</span>nr[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 4.5</code></pre>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="recursivevectors.html#cb380-1"></a>combined[<span class="dv">2</span>, <span class="st">&quot;nr&quot;</span>]</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##      nr
##   &lt;dbl&gt;
## 1   4.5</code></pre>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="recursivevectors.html#cb382-1"></a>combined<span class="op">$</span>nr[[<span class="dv">2</span>]]</span></code></pre></div>
<pre><code>## [1] 4.5</code></pre>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="recursivevectors.html#cb384-1"></a>combined[<span class="dv">2</span>,<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##      nr
##   &lt;dbl&gt;
## 1   4.5</code></pre>
<p>E. Calculate the sum of the <code>prime</code> column.</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="recursivevectors.html#cb386-1"></a>combined<span class="op">$</span>nr <span class="op">%&gt;%</span><span class="st"> </span>sum</span></code></pre></div>
<pre><code>## [1] 32.2</code></pre>
<p>F. Combine the <code>nr</code> and <code>prime</code> columns (vectors) into a new vector.</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="recursivevectors.html#cb388-1"></a><span class="kw">c</span>(combined<span class="op">$</span>nr, combined<span class="op">$</span>prime)</span></code></pre></div>
<pre><code>##  [1]  1.8  4.5 10.1  8.3  7.5  1.0  3.0  5.0  7.0 11.0</code></pre>
</div>
<div id="ordering" class="section level2 unnumbered" number="">
<h2>8 Ordering</h2>
<p>The current data.frame has no particular ordering yet. In the next few exercises, we are going to reorder the data.frame based on a particular column. We can order a dataframe by variable by using the order() function</p>
<p>An example to order the mydata dataframe by name</p>
<pre><code>mydata &lt;- mydata[order(mydata$name), ]
mydata</code></pre>
<p>This statement can be read as “order all variables (columns) of the dataframe by the rows of he variable ‘name’ in decreasing order”. In this case name is a character vector, and order will order the variable according alphabetical order.</p>
<p>You can also order dataframes (or so-called tibbles) with dplyr. We will see how this works with the arrange() function later in the course.</p>
<p>Use this dataframe for the follwing exercises</p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>nr</th>
<th>name</th>
<th>characters</th>
<th>valid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1.8</td>
<td>1</td>
<td>abc1</td>
<td>TRUE</td>
</tr>
<tr class="even">
<td>4</td>
<td>8.3</td>
<td>7</td>
<td>app5</td>
<td>TRUE</td>
</tr>
<tr class="odd">
<td>5</td>
<td>7.5</td>
<td>11</td>
<td>bar1</td>
<td>FALSE</td>
</tr>
<tr class="even">
<td>3</td>
<td>10.1</td>
<td>5</td>
<td>bar3</td>
<td>FALSE</td>
</tr>
<tr class="odd">
<td>2</td>
<td>4.5</td>
<td>3</td>
<td>foo2</td>
<td>FALSE</td>
</tr>
</tbody>
</table>
<ol style="list-style-type: upper-alpha">
<li>Order the data.frame based on the <code>nr</code> column in increasing order.</li>
</ol>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="recursivevectors.html#cb391-1"></a>combined[<span class="kw">order</span>(combined<span class="op">$</span>nr), ]</span></code></pre></div>
<pre><code>## # A tibble: 5 x 4
##      nr prime valid name 
##   &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;
## 1   1.8     1 TRUE  abc1 
## 2   4.5     3 FALSE foo2 
## 3   7.5    11 FALSE bar1 
## 4   8.3     7 TRUE  app5 
## 5  10.1     5 FALSE bar3</code></pre>
<ol start="2" style="list-style-type: upper-alpha">
<li>Order the data.frame alphabetically using the <code>character</code> column.</li>
</ol>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="recursivevectors.html#cb393-1"></a>combined[<span class="kw">order</span>(combined<span class="op">$</span>name), ]</span></code></pre></div>
<pre><code>## # A tibble: 5 x 4
##      nr prime valid name 
##   &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;
## 1   1.8     1 TRUE  abc1 
## 2   8.3     7 TRUE  app5 
## 3   7.5    11 FALSE bar1 
## 4  10.1     5 FALSE bar3 
## 5   4.5     3 FALSE foo2</code></pre>
<ol start="3" style="list-style-type: upper-alpha">
<li>Order the data.frame based on the <code>nr</code> column in decreasing order.</li>
</ol>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="recursivevectors.html#cb395-1"></a>combined[<span class="kw">order</span>(combined<span class="op">$</span>prime, <span class="dt">decreasing =</span> <span class="ot">TRUE</span>), ]</span></code></pre></div>
<pre><code>## # A tibble: 5 x 4
##      nr prime valid name 
##   &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;
## 1   7.5    11 FALSE bar1 
## 2   8.3     7 TRUE  app5 
## 3  10.1     5 FALSE bar3 
## 4   4.5     3 FALSE foo2 
## 5   1.8     1 TRUE  abc1</code></pre>
<ol start="4" style="list-style-type: upper-alpha">
<li>What happens if you use the <code>valid</code> column for ordering? Can you explain this?</li>
</ol>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="recursivevectors.html#cb397-1"></a>combined[<span class="kw">order</span>(combined<span class="op">$</span>valid), ]</span></code></pre></div>
<pre><code>## # A tibble: 5 x 4
##      nr prime valid name 
##   &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;
## 1   4.5     3 FALSE foo2 
## 2  10.1     5 FALSE bar3 
## 3   7.5    11 FALSE bar1 
## 4   1.8     1 TRUE  abc1 
## 5   8.3     7 TRUE  app5</code></pre>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="recursivevectors.html#cb399-1"></a><span class="co">## FALSE can also be written as 0, TRUE as 1 in binary notation</span></span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intror.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="viz.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/uashogeschoolutrecht/staRters/edit/master/ch06_2-recursivevectors.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["exploratory_data_analysis.pdf", "exploratory_data_analysis.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
